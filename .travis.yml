language: node_js
node_js:
- '8'
branches:
  only:
  - master
before_script:
- npm install -g --silent @angular/cli
script:
- ng build --prod
- chmod +x dist
- chmod +x dist/banking
before_deploy:
- ls
- ls dist
- ls dist/banking
- sudo cp manifest.yml dist/banking
- sudo cp Staticfile dist/banking
- ls dist/banking
- cd dist/banking
deploy:
  provider: cloudfoundry
  username: jgsistem@gmail.com
  password:
    secure: GU0cdtqgFFV2FsKum+VhoMSaDRM3UJtDoBEqFcoNORPY6VJ+xt2xib4WR807Rs23UMH/axmbe7G5Yp8ZprgVwoIyRZb+GM3RI2P5Bp9atW78PIW1dYrhQbZzTx/AgJ/QI8HgzIrSeuXvS9Em89xq1m1ugrbzHLjWqfEcays6XRF92RWgSlYcr63FMkh4u2ST76FlFGRPl6eSzvsMO76sIgslZ6SzvYLQ5tUjYFjACkQQSrleX6a0euqBgm3su0b5nXfWc6eRGD2y/6F97d3FUJ8IeBf48UYUGytDBaR48DUh/oIUQgmMjeerttd2m3oZdZT2B+DxXkuLtfiGQiU27d13CXSu7Lf6eoD7ygUIAQMU9acfhstP8bHu3GGoVUDAmvQNJ+GEZS/HknuYfOqQsc/j/5pInsdzHJNiHUyQ23SWVJrXb220QghURAzehSntMS/iVcs0QX1sarzakImTgxMlTv0O54a3GCaEYJfXVYz7zDL51e6dpLnsREAuTY6G3971e2OaI0Filbq+A0ThcnWqBHvQ6eGHU/IlgoZKLyj/dN3036TTtVmsOWmTPDMAS4kCR16rVr97kJbBFT3a/b3UQf0uw2qEBzs5v8dwfrGjglvJGcsTEtc5RD8A85PVFFIamMFPq8r/s766ZQ948bPHj2P+eDoxFZKqfKOpiuc=
  api: https://api.run.pivotal.io
  organization: research-org
  space: development
  skip_cleanup: true
notifications:
  email:
    on_failure: change
    on_success: change
